name: CI

on: [push]

jobs:
  META:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Check Pre Test Setup Script
      run: test -x ./.github/bin/pretests.sh ;
    - name: Check Test Scripts
      run: test -x ./.github/bin/runtests.sh ;
    - name: Check Post Test Scripts
      run: test -x ./.github/bin/posttests.sh ;

  MATS:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Pre Test Setup
      run: ./.github/bin/pretests.sh || true ;
    - name: Run Tests
      run: ./.github/bin/runtests.sh ;
    - name: Post Test Clean
      run: ./.github/bin/posttests.sh || true ;

  STYLE:

    runs-on: ubuntu-latest

    steps:
    - name: shellcheck
      uses: ludeeus/action-shellcheck@0.1.0
